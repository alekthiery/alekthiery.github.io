<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Simple keyboard shortcuts for any website - Alexandre Thiery</title>
  <meta name="author" content="Alexandre Thiery" />
  <meta name="description" content="The website of Alexandre Thiery" />
  <link rel="canonical" href="http://tobanwiebe.com/blog/2015/11/keyboard-shortcuts-web" />

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/atom+xml" title="Alexandre Thiery" href="http://tobanwiebe.com/atom.xml" />

  <link rel="stylesheet" href="/assets/css/all.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.min.css">
</head>
<body>
	<div class="container">
		<div class="eleven columns content">
			<p class="meta">
  November 29, 2015 
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">Simple keyboard shortcuts for any website</h1>

<div id="post">

	


  <p>I’m a huge fan of Gmail’s vim-inspired keyboard shortcuts.
It’s been nice to see the adoption of keyboard shortcuts in other sites, but for most of the web, keyboard access remains completely ignored.
I always just figured that it must be prohibitively difficult to implement keyboard shortcuts in a website, and so only the big players could do it.
It turns out, however, that implementing keyboard shortcuts is embarassingly easy.</p>

<p>With no knowledge of javascript, I was able to add some simple keyboard navigation to this website (<a href="https://github.com/tobanw/tobanw.github.io">source repo</a>).
Though this website is built with <a href="http://jekyllrb.com/">Jekyll</a>, this method would work on any website as it only uses some simple client-side javascript.
I used the excellent <a href="https://craig.is/killing/mice">Mousetrap</a> library to handle keyboard input, and wrote some simple <a href="https://github.com/tobanw/tobanw.github.io/blob/master/assets/scripts/keyboard.js">navigation commands</a> in javascript.</p>

<p>I implemented two kinds of navigation in the spirit of Gmail: jumping and list navigation.
(Note: I’m using the <a href="https://github.com/ccampbell/mousetrap/tree/master/plugins/bind-dictionary">bind dictionary</a> extension to bind multiple keys at once):</p>

<h3 id="jumping">Jumping</h3>

<p>To get &lt;<code class="highlighter-rouge">g</code> then <code class="highlighter-rouge">h</code>&gt; style jumping, all you need is:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span><span class="p">({</span>
	<span class="s1">'g h'</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	<span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">"/"</span><span class="p">;</span> <span class="p">},</span>
	<span class="s1">'g b'</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	<span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">"/blog"</span><span class="p">;</span> <span class="p">},</span>
	<span class="s1">'g r'</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	<span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">"/research"</span><span class="p">;</span> <span class="p">},</span>
<span class="p">})</span>
</code></pre>
</div>

<p>That’s it: incredibly simple.</p>

<h3 id="blog-post-navigation">Blog post navigation</h3>

<p>Adding j/k navigation was a little more complicated.
I wrote <a href="https://github.com/tobanw/tobanw.github.io/blob/master/assets/scripts/keyboard.js">a function</a> <code class="highlighter-rouge">blogNav</code> which takes key and does the following:</p>

<ul>
  <li>gets a list of all the post links (using their unique class, <code class="highlighter-rouge">post-link</code>)</li>
  <li>gets the currently focused element</li>
  <li>moves the link focus accordingly (‘j/k’), or launches the focused link (‘o’)</li>
</ul>

<p>I also tweaked the CSS to change the color of focused links. 
To bind it in Mousetrap:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span><span class="p">({</span>
	<span class="s1">'j'</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">blogNav</span><span class="p">(</span><span class="s1">'j'</span><span class="p">);</span> <span class="p">},</span>
	<span class="s1">'k'</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">blogNav</span><span class="p">(</span><span class="s1">'k'</span><span class="p">);</span> <span class="p">},</span>
	<span class="s1">'o'</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">blogNav</span><span class="p">(</span><span class="s1">'o'</span><span class="p">);</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre>
</div>

<h3 id="conclusion">Conclusion</h3>

<p>Adding keyboard shortcuts to a website is surprisingly easy.
It’s unfortunate that most web development is entirely focused on mouse input, relegating keyboard users to hacky extensions like <a href="https://vimium.github.io/">vimium</a> and <a href="http://5digits.org/pentadactyl/">pentadactyl</a>.
Hopefully <a href="https://craig.is/killing/mice">Mousetrap</a> can help more websites become keyboard friendly.</p>

</div>







		</div>
		<div class="four columns sidebar">
			<nav>

	  <a href="/">
	   <img src="/rw.png" id="logo" alt="Blog logo"/>
	  </a>
	  <div id="message">
	    <p>Random wanderings in mathematics and machine learning...</p>
	  </div>



	<div id="social">
		<div id="stalker">
  
  <a title="Homepage" id="homepage" href="http://www.normalesup.org/~athiery/">
    <i class="fa fa-home"></i>
  </a>
  
  
  

  

  

  

  

  
  <a title="alekkk on Twitter" href="https://twitter.com/alekkk">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Alexandre Thiery on LinkedIn" href="https://www.linkedin.com/in/alexandre-thiery-2981686">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  

  
  <a title="Alexandre Thiery on Google Scholar" href="https://scholar.google.fr/citations?user=szBOsCgAAAAJ">
    <i class="fa fa-road"></i>
  </a>
  

  

  
  <a title="Atom feed" id="atom" href="/atom.xml">
    <i class="fa fa-rss-square"></i>
  </a>
  



</div>

	</div>
</nav>

		</div>
	</div>

  <!-- load mathjax -->
  <script type="text/javascript"
	  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <!-- load mousetrap (keyboard handler) -->
  <script type="text/javascript"
	  src="/assets/scripts/mousetrap.min.js">
  </script>
  <script type="text/javascript"
	  src="/assets/scripts/mousetrap-bind-dictionary.min.js">
  </script>
  <!-- load my keyboard shortcuts -->
  <script type="text/javascript"
	  src="/assets/scripts/keyboard.js">
  </script>

</body>
</html>
